"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[4052],{4052:(y,u,a)=>{a.r(u),a.d(u,{AddservicecategoryRoutingModule:()=>c});var n=a(2761),m=a(1563),i=a(4006),e=a(4650),h=a(7185),p=a(18);class o{constructor(t,r,s,g,d){this.toastr=t,this.formBuilder=r,this.router=s,this.service=g,this.Ar=d,this.routes=m._,this.spinner=!1,this.spanhide=!0,this.imageSrc=null,this.id=null}ngOnInit(){this.myForm=this.formBuilder.group({image:["",i.kI.required],category:["",i.kI.required]}),this.Ar.params.subscribe(t=>this.id=t.id),null!=this.id&&this.setEditData()}setEditData(){this.service.getCatagoryById(this?.id).subscribe(t=>{this.myForm.get("category")?.setValue(t.categoryname),this.myForm.get("image")?.setValue(t.image)})}onFileChange(t){const r=new FileReader;if(t.target.files&&t.target.files.length){const[s]=t.target.files;this.selectedfile=t.target.files[0],r.readAsDataURL(s),r.onload=()=>{this.imageSrc=r.result}}}onSubmit(t){const r=new FormData;r.append("image",this.selectedfile,this?.selectedfile?.name),r.append("categoryname",this.myForm?.get("category")?.value),null==this.id?this.service.addCatagory(r).subscribe(s=>{s&&this.toastr.success("Catagory created successfully"),this.router.navigate(["service/service-catagory-list"])}):this.service.updateCatagory(r,this.id).subscribe(s=>{s&&this.toastr.success("Catagory updated successfully"),this.router.navigate(["service/service-catagory-list"])})}}o.\u0275fac=function(t){return new(t||o)(e.Y36(h._W),e.Y36(i.qu),e.Y36(n.F0),e.Y36(p.m),e.Y36(n.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-addservicecategory"]],decls:29,vars:2,consts:[[1,"page-header"],[1,"page-title"],[1,"card"],[1,"card-body"],[1,"register-form"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["type","text","formControlName","category","placeholder","Please enter Category Name",1,"form-control"],["type","file",1,"form-control",3,"change"],["img",""],["width","150px","alt","",1,"mt-0",3,"src"],[1,"form-group","pt-2","pb-2"],[1,"col-lg-12"],["href","javascript:void(0);","type","Submit",1,"btn","btn-submit","me-2",3,"click"],["routerLink","/service/service-catagory-list",1,"btn","btn-cancel"]],template:function(t,r){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Service Add Category"),e.qZA(),e.TgZ(4,"h6"),e._uU(5,"Create new service Category"),e.qZA()()(),e.TgZ(6,"div",2)(7,"div",3)(8,"div",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"label"),e._uU(14,"Category Name"),e.qZA(),e._UZ(15,"input",9),e.qZA()(),e.TgZ(16,"div",7)(17,"div",8)(18,"label"),e._uU(19,"Upload Product Image"),e.qZA(),e.TgZ(20,"input",10,11),e.NdJ("change",function(d){return r.onFileChange(d)}),e.qZA(),e._UZ(22,"img",12),e.qZA()()(),e.TgZ(23,"div",13)(24,"div",14)(25,"a",15),e.NdJ("click",function(){e.CHM(s);const d=e.MAs(21);return e.KtG(r.onSubmit(d))}),e._uU(26,"Submit"),e.qZA(),e.TgZ(27,"a",16),e._uU(28,"Cancel"),e.qZA()()()()()()()}2&t&&(e.xp6(9),e.Q6J("formGroup",r.myForm),e.xp6(13),e.s9C("src",r.imageSrc,e.LSH))},dependencies:[n.rH,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u]});const v=[{path:"",component:o},{path:":id",component:o}];class c{}c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[n.Bz.forChild(v),n.Bz]})}}]);