"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[3477],{3477:(T,l,r)=>{r.r(l),r.d(l,{AddcategoryModule:()=>c});var m=r(6895),g=r(2761),f=r(1563),a=r(4006),t=r(4650),h=r(7185),y=r(5913),A=r(529);function C(n,e){1&n&&(t.TgZ(0,"span"),t._uU(1,"Add Category "),t.qZA())}function Z(n,e){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",16),t._uU(2," Loading... "),t.qZA())}class u{constructor(e,o,d,p,s){this.toastr=e,this.formBuilder=o,this.router=d,this.api=p,this.http=s,this.routes=f._,this.spinner=!1,this.spanhide=!0,this.imageSrc=null}ngOnInit(){this.catform=this.formBuilder.group({productcategory:["",a.kI.required]})}onFileChange(e){const o=new FileReader;if(e.target.files&&e.target.files.length){const[d]=e.target.files;this.selectedfile=e.target.files[0],o.readAsDataURL(d),o.onload=()=>{this.imageSrc=o.result}}}onSubmit(e){const o=new FormData;let p=this.catform.value;o.append("image",e.files[0]),o.append("data",JSON.stringify(p)),this.api.savecat(o).subscribe(s=>{this.router.navigate(["/product/category-list"]),this.toastr.success("Product Category added Successfully")},s=>{this.toastr.error(s.error.error.message)})}}u.\u0275fac=function(e){return new(e||u)(t.Y36(h._W),t.Y36(a.qu),t.Y36(g.F0),t.Y36(y.d),t.Y36(A.eN))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-addcategory"]],decls:27,vars:4,consts:[[1,"page-header"],[1,"page-title"],[1,"card"],[1,"card-body"],[1,"register-form"],[1,"p-4",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["type","text","formControlName","productcategory","placeholder","Please enter Category Name",1,"form-control"],["type","file","placeholder","Please upload image",1,"form-control",3,"change"],["img",""],["width","150px","alt","",1,"mt-0",3,"src"],[1,"form-group","pt-2","pb-2"],["type","submit",1,"btn","btn-submit","me-2"],[4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,o){if(1&e){const d=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"h4"),t._uU(3,"Product Add Category"),t.qZA(),t.TgZ(4,"h6"),t._uU(5,"Create new product Category"),t.qZA()()(),t.TgZ(6,"div",2)(7,"div",3)(8,"div",4)(9,"form",5),t.NdJ("ngSubmit",function(){t.CHM(d);const s=t.MAs(21);return t.KtG(o.onSubmit(s))}),t.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"label"),t._uU(14,"Category Name"),t.qZA(),t._UZ(15,"input",9),t.qZA()(),t.TgZ(16,"div",7)(17,"div",8)(18,"label"),t._uU(19,"Upload Product Image"),t.qZA(),t.TgZ(20,"input",10,11),t.NdJ("change",function(s){return o.onFileChange(s)}),t.qZA(),t._UZ(22,"img",12),t.qZA()()(),t.TgZ(23,"div",13)(24,"button",14),t.YNc(25,C,2,0,"span",15),t.YNc(26,Z,3,0,"span",15),t.qZA()()()()()()}2&e&&(t.xp6(9),t.Q6J("formGroup",o.catform),t.xp6(13),t.s9C("src",o.imageSrc,t.LSH),t.xp6(3),t.Q6J("ngIf",o.spanhide),t.xp6(1),t.Q6J("ngIf",o.spinner))},dependencies:[m.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]});const v=[{path:"",component:u}];class i{}i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[g.Bz.forChild(v),g.Bz]});class c{}c.\u0275fac=function(e){return new(e||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[m.ez,i,a.u5,a.UX]})}}]);